{"version":3,"sources":["pages/Landing/Landing.js","pages/Home/Home.js","pages/Profile/Profile.js","components/Dashboard/Dashboard.js","pages/Dashboard/Week.js","pages/Dashboard/Sentiment.js","context/statistics-context.js","services/statistics-service.js","pages/Dashboard/Channel.js","services/auth-service.js","context/auth-context.js","pages/Signup/Signup.js","pages/Login/Login.js","components/Navbar/Navbar.js","components/AnonRoute/AnonRoute.js","components/PrivateRoute/PrivateRoute.js","App.js","index.js"],"names":["Landing","Home","to","Profile","Dashboard","props","data","LineChart","width","height","margin","top","right","left","bottom","CartesianGrid","strokeDasharray","XAxis","dataKey","YAxis","Tooltip","Legend","Line","type","stroke","activeDot","r","Week","Sentiment","WrappedComponent","statisticsService","getAll","api","get","then","response","this","axios","create","baseURL","process","REACT_APP_API_URL","withCredentials","React","createContext","Consumer","Provider","StatisticsProvider","state","statistics","console","log","setState","catch","err","value","children","Component","Channel","workspace","handleInput","event","target","name","checked","htmlFor","id","onChange","filter","el","authService","auth","username","password","post","AuthProvider","isLoggedIn","isLoading","user","signup","login","logout","me","withAuth","handleFormSubmit","preventDefault","handleChange","onSubmit","className","onClick","routeProps","ComponentToShow","component","exact","path","render","App","Signup","Login","ReactDOM","document","getElementById"],"mappings":"gPAUeA,MARf,WACE,OACE,8BACE,iDCgBSC,MAjBf,WACE,OACE,gCACE,2CACA,cAAC,IAAD,CAAMC,GAAG,QAAT,SACE,oGAEF,cAAC,IAAD,CAAMA,GAAG,WAAT,SACE,+FAEF,cAAC,IAAD,CAAMA,GAAG,aAAT,SACE,kGCLOC,MARf,WACE,OACE,8BACE,iD,6DCyCSC,MAlCf,SAAmBC,GACjB,IAAMC,EAAOD,EAAMC,KACnB,OACE,gCACE,mDAEA,eAACC,EAAA,EAAD,CACEC,MAAO,IACPC,OAAQ,IACRH,KAAMA,EACNI,OAAQ,CACNC,IAAK,EACLC,MAAO,GACPC,KAAM,GACNC,OAAQ,GARZ,UAWE,cAACC,EAAA,EAAD,CAAeC,gBAAgB,QAC/B,cAACC,EAAA,EAAD,CAAOC,QAAQ,cACf,cAACC,EAAA,EAAD,IACA,cAACC,EAAA,EAAD,IACA,cAACC,EAAA,EAAD,IACA,cAACC,EAAA,EAAD,CACEC,KAAK,WACLL,QAAQ,MACRM,OAAO,UACPC,UAAW,CAAEC,EAAG,KAElB,cAACJ,EAAA,EAAD,CAAMC,KAAK,WAAWL,QAAQ,cAAcM,OAAO,mBC3B5CG,MATf,WACE,OACE,gCACI,cAAC,EAAD,IACF,+CCKSC,ICiBSC,EDjBTD,EATf,WACE,OACE,gCACE,cAAC,EAAD,IACA,oD,iCEMSE,EADW,IAXxB,aAAe,IAAD,gCAMdC,OAAS,WAEP,OADW,EAAKC,IAAIC,IAAI,aAAaC,MAAK,SAACC,GAAD,OAAcA,EAAS7B,SANjE8B,KAAKJ,IAAMK,IAAMC,OAAO,CACtBC,QAASC,mIAAYC,kBACrBC,iBAAiB,K,EDFQC,IAAMC,gBAA7BC,E,EAAAA,SAAUC,E,EAAAA,SAEZC,E,4MACFC,MAAQ,CACJC,WAAY,I,uDAGhB,WAAsB,IAAD,OACjBnB,EAAkBC,SAChBG,MAAK,SAAC5B,GACH4C,QAAQC,IAAI,sBACZ,EAAKC,SAAS,CAAEH,WAAY3C,OAE/B+C,OAAM,SAACC,GAAD,OAAS,EAAKF,SAAS,CAAEH,WAAY,U,oBAGjD,WAAU,IACEA,EAAeb,KAAKY,MAApBC,WAER,OACI,cAACH,EAAD,CAAUS,MAAO,CAAEN,cAAnB,SACKb,KAAK/B,MAAMmD,e,GAnBKC,aEE3BC,E,4MACJV,MAAQ,CACNW,UAAW,U,EAGbC,YAAc,SAACC,GAAW,IAAD,EACKA,EAAMC,OAA5BP,EADiB,EACjBA,MAAOQ,EADU,EACVA,KACA,aAFU,EACJxC,OAEjBgC,EAAQM,EAAMC,OAAOE,SAEvB,EAAKZ,SAAL,eAAiBW,EAAOR,IACxBL,QAAQC,IAAIY,EAAMR,I,4CAGpB,WAAU,IAAD,OACDjD,EAAO8B,KAAK/B,MAAM4C,WACxB,OACE,8BACE,gCACE,uBAAOgB,QAAQ,YAAf,sBACA,yBAAQC,GAAG,YAAYH,KAAK,YAAYI,SAAU/B,KAAKwB,YAAvD,UACE,wBAAQL,MAAM,SAAd,oBACA,wBAAQA,MAAM,qBAAd,gCACA,wBAAQA,MAAM,qBAAd,mCAEF,cAAC,EAAD,CACEjD,KAAMA,EAAK8D,QAAO,SAACC,GAAD,OAAQA,EAAGV,YAAc,EAAKX,MAAMW,wB,GA1B5CF,aAkCPR,GFXSpB,EEWE6B,EFTf,SAAUrD,GACf,OACE,cAACwC,EAAD,UACI,SAACU,GAAW,IACJN,EAAeM,EAAfN,WAER,OACE,cAACpB,EAAD,aACEoB,WAAYA,GACR5C,SGCLiE,EAFK,I,WArClB,aAAe,oBACblC,KAAKmC,KAAOlC,IAAMC,OAAO,CACvBC,QAASC,mIAAYC,kBACrBC,iBAAiB,I,0CAIrB,SAAO8B,EAAUC,GAMf,OALWrC,KAAKmC,KACbG,KAAK,eAAgB,CAAEF,WAAUC,aACjCvC,MAAK,SAACC,GAAD,OAAcA,EAAS7B,U,mBAMjC,SAAMkE,EAAUC,GAKd,OAJWrC,KAAKmC,KACbG,KAAK,cAAe,CAAEF,WAAUC,aAChCvC,MAAK,SAACC,GAAD,OAAcA,EAAS7B,U,oBAKjC,WAGE,OAFW8B,KAAKmC,KAAKtC,IAAI,gBAAgBC,MAAK,SAACC,GAAD,OAAcA,EAAS7B,U,gBAKvE,WAGE,OAFW8B,KAAKmC,KAAKtC,IAAI,YAAYC,MAAK,SAACC,GAAD,OAAcA,EAAS7B,Y,QC/BtCqC,IAAMC,gBAA7BC,E,EAAAA,SAAUC,E,EAAAA,SAGZ6B,E,4MACJ3B,MAAQ,CACN4B,YAAY,EACZC,WAAW,EACXC,KAAM,M,EASRC,OAAS,SAACP,EAAUC,GAClBH,EAAYS,OAAQP,EAAUC,GAC3BvC,MAAK,SAAC4C,GAAD,OAAU,EAAK1B,SAAS,CAAEwB,YAAY,EAAME,YACjDzB,OAAM,SAACC,GACN,EAAKF,SAAS,CAAEwB,YAAY,EAAOE,KAAM,W,EAI/CE,MAAQ,SAACR,EAAUC,GACjBH,EAAYU,MAAOR,EAAUC,GAC1BvC,MAAK,SAAC4C,GAAD,OAAU,EAAK1B,SAAS,CAAEwB,YAAY,EAAME,YACjDzB,OAAM,SAACC,GACN,EAAKF,SAAS,CAAEwB,YAAY,EAAOE,KAAM,W,EAI/CG,OAAS,WACPX,EAAYW,SACT/C,MAAK,kBAAM,EAAKkB,SAAS,CAAEwB,YAAY,EAAOE,KAAM,UACpDzB,OAAM,SAACC,GAAD,OAASJ,QAAQC,IAAIG,O,uDAzBhC,WAAsB,IAAD,OACnBgB,EAAYY,KACVhD,MAAK,SAAC4C,GAAD,OAAU,EAAK1B,SAAS,CAAEwB,YAAY,EAAME,KAAMA,EAAMD,WAAW,OACxExB,OAAM,SAACC,GAAD,OAAS,EAAKF,SAAS,CAAEwB,YAAY,EAAOE,KAAM,KAAMD,WAAW,S,oBA0B7E,WAAU,IAAD,EACiCzC,KAAKY,MAArC4B,EADD,EACCA,WAAYC,EADb,EACaA,UAAWC,EADxB,EACwBA,KACvBC,EAA0B3C,KAA1B2C,OAAQC,EAAkB5C,KAAlB4C,MAAOC,EAAW7C,KAAX6C,OAEvB,OAAIJ,EAAkB,wCAGpB,cAAC,EAAD,CAAUtB,MAAO,CAAEqB,aAAYC,YAAWC,OAAMC,SAAQC,QAAOC,UAA/D,SACG7C,KAAK/B,MAAMmD,e,GA5COb,IAAMc,WAqD3B0B,EAAW,SAACtD,GAEhB,OAAO,SAAUxB,GACb,OACE,cAAC,EAAD,UACI,SAACkD,GAAW,IACJqB,EAAuDrB,EAAvDqB,WAAYC,EAA2CtB,EAA3CsB,UAAWC,EAAgCvB,EAAhCuB,KAAMC,EAA0BxB,EAA1BwB,OAAQC,EAAkBzB,EAAlByB,MAAOC,EAAW1B,EAAX0B,OAEpD,OACE,cAACpD,EAAD,aACE+C,WAAYA,EACZC,UAAWA,EACXC,KAAMA,EACNC,OAAQA,EACRC,MAAOA,EACPC,OAAQA,GACJ5E,SChCL8E,I,4MAtCbnC,MAAQ,CAAEwB,SAAU,GAAIC,SAAU,I,EAElCW,iBAAmB,SAAAvB,GACjBA,EAAMwB,iBADoB,MAEK,EAAKrC,MAA5BwB,EAFkB,EAElBA,SAAUC,EAFQ,EAERA,SAElB,EAAKpE,MAAM0E,OAAQP,EAAUC,I,EAG/Ba,aAAe,SAAAzB,GAAU,IAAD,EACEA,EAAMC,OAAtBC,EADc,EACdA,KAAMR,EADQ,EACRA,MACd,EAAKH,SAAL,eAAiBW,EAAOR,K,4CAG1B,WAAU,IAAD,EACwBnB,KAAKY,MAA5BwB,EADD,EACCA,SAAUC,EADX,EACWA,SAClB,OACE,gCACE,yCAEA,uBAAMc,SAAUnD,KAAKgD,iBAArB,UAEE,8CACA,uBAAO7D,KAAK,OAAOwC,KAAK,WAAWR,MAAOiB,EAAUL,SAAU/B,KAAKkD,eAEnE,8CACA,uBAAO/D,KAAK,WAAWwC,KAAK,WAAWR,MAAOkB,EAAUN,SAAU/B,KAAKkD,eAEvE,uBAAO/D,KAAK,SAASgC,MAAM,cAG7B,sDACA,cAAC,IAAD,CAAMrD,GAAI,SAAV,2B,GAjCauD,cCoCN0B,I,4MApCbnC,MAAQ,CAAEwB,SAAU,GAAIC,SAAU,I,EAElCW,iBAAmB,SAAAvB,GACjBA,EAAMwB,iBADoB,MAEK,EAAKrC,MAA5BwB,EAFkB,EAElBA,SAAUC,EAFQ,EAERA,SAElB,EAAKpE,MAAM2E,MAAMR,EAAUC,I,EAG7Ba,aAAe,SAAAzB,GAAU,IAAD,EACEA,EAAMC,OAAtBC,EADc,EACdA,KAAMR,EADQ,EACRA,MACd,EAAKH,SAAL,eAAiBW,EAAOR,K,4CAG1B,WAAU,IAAD,EACwBnB,KAAKY,MAA5BwB,EADD,EACCA,SAAUC,EADX,EACWA,SAElB,OACE,gCACE,uCAEA,uBAAMc,SAAUnD,KAAKgD,iBAArB,UAEE,8CACA,uBAAO7D,KAAK,OAAOwC,KAAK,WAAWR,MAAOiB,EAAUL,SAAU/B,KAAKkD,eAEnE,8CACA,uBAAO/D,KAAK,WAAWwC,KAAK,WAAWR,MAAOkB,EAAUN,SAAU/B,KAAKkD,eAEvE,uBAAO/D,KAAK,SAASgC,MAAM,oB,GA9BjBE,cC8BL0B,I,4JA5Bb,WAEE,OACE,qBAAKK,UAAU,SAAf,SACGpD,KAAK/B,MAAMuE,WACV,qCACE,cAAC,IAAD,CAAM1E,GAAI,QAASgE,GAAG,WAAtB,SACE,6CAEF,2CAAc9B,KAAK/B,MAAMyE,MAAQ1C,KAAK/B,MAAMyE,KAAKN,YACjD,wBAAQiB,QAASrD,KAAK/B,MAAM4E,OAA5B,uBAGF,qCACE,eAAC,IAAD,CAAM/E,GAAG,SAAT,UACE,wBAAQsF,UAAU,gBAAlB,mBAAiD,OAEnD,uBACA,eAAC,IAAD,CAAMtF,GAAG,UAAT,UACE,wBAAQsF,UAAU,gBAAlB,qBAAmD,gB,GApB5C/B,cC4BN0B,SA1Bf,SAAoBO,GAAY,IAEtBd,EAA0Bc,EAA1Bd,WAAYC,EAAca,EAAdb,UAGdc,EAAkBD,EAAWE,UAC3BC,EAAgBH,EAAhBG,MAAOC,EAASJ,EAATI,KAGf,OAAIjB,EAAkB,UAGpB,cAAC,IAAD,CACEgB,MAAOA,EACPC,KAAMA,EACNC,OACE,SAAS1F,GACP,OAAIuE,EAAmB,cAAC,IAAD,CAAU1E,GAAG,UACzB0E,OAAN,EAAyB,cAACe,EAAD,eAAqBtF,UCQ9C8E,SA1Bf,SAAuBO,GAAY,IAEzBd,EAA0Bc,EAA1Bd,WAAYC,EAAca,EAAdb,UAGdc,EAAkBD,EAAWE,UAC3BC,EAAgBH,EAAhBG,MAAOC,EAASJ,EAATI,KAGf,OAAIjB,EAAkB,UAGpB,cAAC,IAAD,CACEgB,MAAOA,EACPC,KAAMA,EACNC,OACE,SAAS1F,GACP,OAAMuE,EACGA,EAAmB,cAACe,EAAD,eAAqBtF,SAA5C,EADoB,cAAC,IAAD,CAAUH,GAAG,iBCmBjC8F,E,4JAtBb,WACE,OACE,sBAAKR,UAAU,YAAf,UACE,cAAC,EAAD,IAEA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOK,OAAK,EAACC,KAAK,IAAIF,UAAW5F,IAEjC,cAAC,EAAD,CAAW6F,OAAK,EAACC,KAAK,UAAUF,UAAWK,IAC3C,cAAC,EAAD,CAAWJ,OAAK,EAACC,KAAK,SAASF,UAAWM,IAE1C,cAAC,EAAD,CAAcL,OAAK,EAACC,KAAK,QAAQF,UAAW3F,IAC5C,cAAC,EAAD,CAAc4F,OAAK,EAACC,KAAK,WAAWF,UAAWzF,IAC/C,cAAC,EAAD,CAAc0F,OAAK,EAACC,KAAK,QAAQF,UAAWjE,IAC5C,cAAC,EAAD,CAAckE,OAAK,EAACC,KAAK,WAAWF,UAAWlC,IAC/C,cAAC,EAAD,CAAcmC,OAAK,EAACC,KAAK,aAAaF,UAAWhE,c,GAhBzC6B,aCXlB0C,IAASJ,OACP,cAAC,IAAD,UACE,cAAC,EAAD,UACA,cAAC,EAAD,UACE,cAAC,EAAD,UAIJK,SAASC,eAAe,W","file":"static/js/main.0a1144d8.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nfunction Landing() {\r\n  return (\r\n    <div> \r\n      <h1>Landing Page</h1>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Landing;","import React from 'react'\n\nimport { Link } from 'react-router-dom';\n\nfunction Home() {\n  return (\n    <div> \n      <h1>Home Page</h1>\n      <Link to=\"/week\">\n        <h1>Link to the stadistics dashboard per workspace, channel and week</h1>\n      </Link>\n      <Link to=\"/channel\">\n        <h1>Link to the stadistics dashboard per workspace, and channel</h1>\n      </Link>\n      <Link to=\"/sentiment\">\n        <h1>Link to the sentiment dashboard per workspace, and channel</h1>\n      </Link>\n    </div>\n  )\n}\n\nexport default Home;","import React from 'react'\r\n\r\nfunction Profile() {\r\n  return (\r\n    <div> \r\n      <h1>Profile Page</h1>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile;","import React, { PureComponent } from \"react\";\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer,\r\n} from \"recharts\";\r\n\r\nfunction Dashboard(props) {\r\n  const data = props.data;\r\n  return (\r\n    <div>\r\n      <p>Dashboard response</p>\r\n\r\n      <LineChart\r\n        width={500}\r\n        height={300}\r\n        data={data}\r\n        margin={{\r\n          top: 5,\r\n          right: 30,\r\n          left: 20,\r\n          bottom: 5,\r\n        }}\r\n      >\r\n        <CartesianGrid strokeDasharray=\"3 3\" />\r\n        <XAxis dataKey=\"sentiment\" />\r\n        <YAxis />\r\n        <Tooltip />\r\n        <Legend />\r\n        <Line\r\n          type=\"monotone\"\r\n          dataKey=\"joy\"\r\n          stroke=\"#8884d8\"\r\n          activeDot={{ r: 8 }}\r\n        />\r\n        <Line type=\"monotone\" dataKey=\"Time Series\" stroke=\"#82ca9d\" />\r\n      </LineChart>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n\r\n// class Dashboard extends PureComponent {\r\n//   static demoUrl = \"https://codesandbox.io/s/simple-line-chart-kec3v\";\r\n\r\n//   render() {\r\n//     return (\r\n//       <p>\r\n//         Dashboard response <br /> {data[0].name}\r\n//       </p>\r\n//       // <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n//       //   <LineChart\r\n//       //     width={500}\r\n//       //     height={300}\r\n//       //     data={data}\r\n//       //     margin={{\r\n//       //       top: 5,\r\n//       //       right: 30,\r\n//       //       left: 20,\r\n//       //       bottom: 5,\r\n//       //     }}\r\n//       //   >\r\n//       //     <CartesianGrid strokeDasharray=\"3 3\" />\r\n//       //     <XAxis dataKey=\"name\" />\r\n//       //     <YAxis />\r\n//       //     <Tooltip />\r\n//       //     <Legend />\r\n//       //     <Line\r\n//       //       type=\"monotone\"\r\n//       //       dataKey=\"pv\"\r\n//       //       stroke=\"#8884d8\"\r\n//       //       activeDot={{ r: 8 }}\r\n//       //     />\r\n//       //     <Line type=\"monotone\" dataKey=\"uv\" stroke=\"#82ca9d\" />\r\n//       //   </LineChart>\r\n//       // </ResponsiveContainer>\r\n//     );\r\n//   }\r\n// }\r\n\r\n// export default Dashboard;\r\n","import React from 'react'\r\n\r\nimport Dashboard from '../../components/Dashboard/Dashboard';\r\n\r\nfunction Week() {\r\n  return (\r\n    <div>\r\n        <Dashboard /> \r\n      <h1>Week Page</h1>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Week;","import React from 'react'\r\n\r\nimport Dashboard from '../../components/Dashboard/Dashboard';\r\n\r\nfunction Sentiment() {\r\n  return (\r\n    <div> \r\n      <Dashboard />\r\n      <h1>Sentiment Page</h1>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Sentiment;","import React, { Component } from 'react';\r\nimport statisticsService from '../services/statistics-service';\r\n\r\nconst { Consumer, Provider } = React.createContext();\r\n\r\nclass StatisticsProvider extends Component {\r\n    state = {\r\n        statistics: []\r\n      }\r\n\r\n    componentDidMount () {\r\n        statisticsService.getAll()\r\n         .then((data) => {\r\n             console.log('problem with value')\r\n             this.setState({ statistics: data })\r\n            })\r\n         .catch((err) => this.setState({ statistics: [] }));\r\n      }\r\n\r\n    render() {\r\n        const { statistics } = this.state;\r\n\r\n        return (\r\n            <Provider value={{ statistics }}  >\r\n                {this.props.children}\r\n            </Provider>\r\n        )\r\n    }\r\n}\r\n\r\n    const statistics = (WrappedComponent) => {\r\n  \r\n    return function (props) {\r\n      return(\r\n        <Consumer>\r\n          { (value) => {\r\n            const { statistics } = value;\r\n\r\n            return (\r\n              <WrappedComponent \r\n                statistics={statistics} \r\n                {...props}\r\n              />\r\n            )\r\n\r\n          } }\r\n        </Consumer>\r\n        )\r\n    }\r\n}\r\n\r\nexport { StatisticsProvider, statistics } ","import axios from \"axios\";\nclass StatisticsService {\n  constructor() {\n    this.api = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true,\n    });\n  }\n  getAll = () => {\n    const pr = this.api.get(\"/api/data\").then((response) => response.data);\n    return pr;\n  };\n}\nconst statisticsService = new StatisticsService();\nexport default statisticsService;\n","// import { Link } from 'react-router-dom';\r\nimport { statistics } from \"./../../context/statistics-context\";\r\n\r\nimport Dashboard from \"../../components/Dashboard/Dashboard\";\r\n\r\nimport React, { Component } from \"react\";\r\n\r\nclass Channel extends Component {\r\n  state = {\r\n    workspace: \"KAGGLE\",\r\n  };\r\n\r\n  handleInput = (event) => {\r\n    let { value, name, type } = event.target; //  value=\"asdfasdf\"  name=\"director\"\r\n    if (type === \"checkbox\") {\r\n      value = event.target.checked;\r\n    }\r\n    this.setState({ [name]: value });\r\n    console.log(name, value);\r\n  };\r\n\r\n  render() {\r\n    const data = this.props.statistics;\r\n    return (\r\n      <div>\r\n        <div>\r\n          <label htmlFor=\"Workspace\">Channel:</label>\r\n          <select id=\"workspace\" name=\"workspace\" onChange={this.handleInput}>\r\n            <option value=\"KAGGLE\">KAGGLE</option>\r\n            <option value=\"ih-bcn-web-oct2020\">ih-bcn-web-oct2020</option>\r\n            <option value=\"ih-bcn-web-jan2021\">ih-bcn-web-jan2021</option>\r\n          </select>\r\n          <Dashboard\r\n            data={data.filter((el) => el.workspace === this.state.workspace)}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default statistics(Channel);\r\n","import axios from \"axios\";\n\nclass AuthService {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true,\n    });\n  }\n\n  signup(username, password) {\n    const pr = this.auth\n      .post(\"/auth/signup\", { username, password })\n      .then((response) => response.data);\n    // .then(({ data }) => data); // Shorter way of `.then((response) => response.data);`\n\n    return pr;\n  }\n\n  login(username, password) {\n    const pr = this.auth\n      .post(\"/auth/login\", { username, password })\n      .then((response) => response.data);\n\n    return pr;\n  }\n\n  logout() {\n    const pr = this.auth.get(\"/auth/logout\").then((response) => response.data);\n\n    return pr;\n  }\n\n  me() {\n    const pr = this.auth.get(\"/auth/me\").then((response) => response.data);\n\n    return pr;\n  }\n}\n\nconst authService = new AuthService();\n\nexport default authService;\n\n// Service is a set of methods abstracted and placed into a class, out of which we create one instance.\n// In the above case, all axios request calls are abstracted into methods.\n","import React from 'react';\nimport authService from '../services/auth-service';\n\nconst { Consumer, Provider } = React.createContext();\n\n\nclass AuthProvider extends React.Component {\n  state = {\n    isLoggedIn: false,\n    isLoading: true,\n    user: null\n  }\n\n  componentDidMount () {\n    authService.me()\n     .then((user) => this.setState({ isLoggedIn: true, user: user, isLoading: false }))\n     .catch((err) => this.setState({ isLoggedIn: false, user: null, isLoading: false }));\n  }\n\n  signup = (username, password) => {\n    authService.signup( username, password )\n      .then((user) => this.setState({ isLoggedIn: true, user }) )\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null });\n      })\n  }\n\n  login = (username, password) => {\n    authService.login( username, password )\n      .then((user) => this.setState({ isLoggedIn: true, user }))\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null });\n      })\n  }\n\n  logout = () => {\n    authService.logout()\n      .then(() => this.setState({ isLoggedIn: false, user: null }))\n      .catch((err) => console.log(err));\n  }\n\n\n  render() {\n    const { isLoggedIn, isLoading, user } = this.state;\n    const { signup, login, logout } = this;\n\n    if (isLoading) return <p>Loading</p>;\n\n    return(\n      <Provider value={{ isLoggedIn, isLoading, user, signup, login, logout }}  >\n        {this.props.children}\n      </Provider>\n    )\n  }\n\n}\n\n\n// HOC that converts regular component into a Consumer\nconst withAuth = (WrappedComponent) => {\n  \n  return function (props) {\n      return(\n        <Consumer>\n          { (value) => {\n            const { isLoggedIn, isLoading, user, signup, login, logout } = value;\n\n            return (\n              <WrappedComponent \n                isLoggedIn={isLoggedIn} \n                isLoading={isLoading} \n                user={user} \n                signup={signup} \n                login={login} \n                logout={logout}\n                {...props}\n              />\n            )\n\n          } }\n        </Consumer>\n        )\n    }\n}\n\n\nexport { AuthProvider, withAuth }","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from './../../context/auth-context';\n\nclass Signup extends Component {\n  state = { username: \"\", password: \"\" };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { username, password } = this.state;\n    \n    this.props.signup( username, password );\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { username, password } = this.state;\n    return (\n      <div>\n        <h1>Sign Up</h1>\n\n        <form onSubmit={this.handleFormSubmit}>\n\n          <label>Username:</label>\n          <input type=\"text\" name=\"username\" value={username} onChange={this.handleChange} />\n\n          <label>Password:</label>\n          <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\n\n          <input type=\"submit\" value=\"Signup\" />\n        </form>\n        \n        <p>Already have account?</p>\n        <Link to={\"/login\"}> Login</Link>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Signup);\n\n// const EnhancedSignup = withAuth(Signup)\n// export default EnhancedSignup;","import React, { Component } from \"react\";\nimport { withAuth } from './../../context/auth-context';\n\nclass Login extends Component {\n  state = { username: \"\", password: \"\" };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { username, password } = this.state;\n    // Call function coming from AuthProvider ( via withAuth )\n    this.props.login(username, password);\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { username, password } = this.state;\n\n    return (\n      <div>\n        <h1>Login</h1>\n\n        <form onSubmit={this.handleFormSubmit}>\n          \n          <label>Username:</label>\n          <input type=\"text\" name=\"username\" value={username} onChange={this.handleChange}/>\n\n          <label>Password:</label>\n          <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\n\n          <input type=\"submit\" value=\"Login\" />\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Login);\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withAuth } from './../../context/auth-context';\n\nclass Navbar extends Component {\n  render() {\n    // const { user, logout, isLoggedin } = this.props;\n    return (\n      <nav className=\"navbar\">\n        {this.props.isLoggedIn ? (\n          <>\n            <Link to={'/home'} id='home-btn'>\n              <h4>Home Page</h4>\n            </Link>\n            <p>username: {this.props.user && this.props.user.username}</p>\n            <button onClick={this.props.logout}>Logout</button>\n          </>\n        ) : (\n          <>\n            <Link to=\"/login\">\n              <button className=\"navbar-button\">Login</button>{' '}\n            </Link>\n            <br />\n            <Link to=\"/signup\">\n              <button className=\"navbar-button\">Sign Up</button>{' '}\n            </Link>\n          </>\n        )}\n      </nav>\n    );\n  }\n}\n\nexport default withAuth(Navbar);\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from './../../context/auth-context';\n\n// Route that only allows access to a user who is not logged in\n\nfunction AnonRoute (routeProps) {\n  // Value coming from `AuthProvider` ( via `withAuth` )\n  const { isLoggedIn, isLoading } = routeProps;\n\n  // Values coming from the AnonRoute itself\n  const ComponentToShow = routeProps.component;\n  const { exact, path } = routeProps;\n\n  // If AuthProvider is still making request to check the user\n  if (isLoading) return 'Loading';\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={\n        function(props) {\n          if (isLoggedIn) return <Redirect to=\"/home\" />\n          else if (! isLoggedIn) return <ComponentToShow {...props} />\n        }\n      }\n     />\n    )\n}\n\n\nexport default withAuth(AnonRoute);\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from './../../context/auth-context';\n\n// Route that forbids access to a user who is not logged in\n\nfunction PrivateRoute (routeProps) {\n  // Value coming from `AuthProvider` ( via `withAuth` )\n  const { isLoggedIn, isLoading } = routeProps;\n\n  // Values coming from the PrivateRoute itself\n  const ComponentToShow = routeProps.component;\n  const { exact, path } = routeProps;\n\n  // If AuthProvider is still making request to check the user\n  if (isLoading) return 'Loading';\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={\n        function(props) {\n          if (! isLoggedIn) return <Redirect to=\"/login\" />;\n          else if (isLoggedIn) return <ComponentToShow {...props} />;\n        }\n      }\n     />\n    )\n}\n\n\nexport default withAuth(PrivateRoute);\n\n\n/* \n// Concise way\nfunction PrivateRoute({ component: Component, isLoggedIn, ...rest }) {\n  return (\n   <Route\n    {...rest}\n    render={ (props)  => isLoggedIn ? <Component {...props} /> : <Redirect to=\"/login\" />}\n   /> \n)} \n*/\n","import React, { Component } from 'react';\nimport './App.css';\nimport { Switch, Route } from 'react-router-dom';\n\n// Pages\nimport Landing from './pages/Landing/Landing';\nimport Home from './pages/Home/Home';\nimport Profile from './pages/Profile/Profile';\nimport Week from './pages/Dashboard/Week';\nimport Sentiment from './pages/Dashboard/Sentiment';\nimport Channel from './pages/Dashboard/Channel';\nimport Signup from './pages/Signup/Signup';\nimport Login from './pages/Login/Login';\n\n// Components\nimport Navbar from './components/Navbar/Navbar';\nimport AnonRoute from './components/AnonRoute/AnonRoute';\nimport PrivateRoute from './components/PrivateRoute/PrivateRoute';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"container\">\n        <Navbar />\n\n        <Switch>\n          <Route exact path=\"/\" component={Landing} />\n\n          <AnonRoute exact path=\"/signup\" component={Signup} />\n          <AnonRoute exact path=\"/login\" component={Login} />\n\n          <PrivateRoute exact path=\"/home\" component={Home} />\n          <PrivateRoute exact path=\"/profile\" component={Profile} />\n          <PrivateRoute exact path=\"/week\" component={Week} />\n          <PrivateRoute exact path=\"/channel\" component={Channel} />\n          <PrivateRoute exact path=\"/sentiment\" component={Sentiment} />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n/*          <Route exact path=\"/\" component={Home} />\n*/\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\n\nimport { AuthProvider } from './context/auth-context';\nimport { StatisticsProvider } from './context/statistics-context';\n\nReactDOM.render(\n  <Router>\n    <StatisticsProvider>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n    </StatisticsProvider>\n  </Router>\n, document.getElementById('root'));\n"],"sourceRoot":""}